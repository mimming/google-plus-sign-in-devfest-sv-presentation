<!--
Google IO 2012/2013 HTML5 Slide Template

Authors: Eric Bidelman <ebidel@gmail.com>
         Luke Mah√© <lukem@google.com>

URL: https://code.google.com/p/io-2012-slides
-->
<!DOCTYPE html>
<html>
<head>
  <title></title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <!--<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">-->
  <!--<meta name="viewport" content="width=device-width, initial-scale=1.0">-->
  <!--This one seems to work all the time, but really small on ipad-->
  <!--<meta name="viewport" content="initial-scale=0.4">-->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="stylesheet" media="all" href="theme/css/default.css">
  <link rel="stylesheet" media="only screen and (max-device-width: 480px)" href="theme/css/phone.css">
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->
  <script data-main="js/slides" src="js/require-1.0.8.min.js"></script>
</head>
<body style="opacity: 0">

<slides class="layout-widescreen">

  <slide class="logoslide nobackground">
    <article class="flexbox vcenter">
      <span><img src="images/google_developers_logo.png"></span>
    </article>
  </slide>

  <slide class="title-slide segue nobackground">
    <aside class="gdbar"><img src="images/google_developers_icon_128.png"></aside>
    <!-- The content of this hgroup is replaced programmatically through the slide_config.json. -->
    <hgroup class="auto-fadein">
      <h1 data-config-title><!-- populated from slide_config.json --></h1>
      <h2 data-config-subtitle><!-- populated from slide_config.json --></h2>
      <p data-config-presenter><!-- populated from slide_config.json --></p>
    </hgroup>
  </slide>

  <slide>
    <hgroup>
      <h2>Today's Agenda</h2>
    </hgroup>
    <article>
      <ul class="build">
        <li>Google+ Sign-In button</li>
        <li>Over-the-Air Installs</li>
        <li>App Customization</li>
        <li>Interactive Posts</li>
        <li>App Activities</li>
        <li>Server-Side calls</li>
        <li>Platform Insights</li>
      </ul>
    </article>
  </slide>

  <slide class="segue dark nobackground">
    <aside class="gdbar"><img src="images/google_developers_icon_128.png"></aside>
    <hgroup class="auto-fadein">
      <h2>Google+ Sign-In button</h2>
      <h3>Simplified sign-in from a trusted source</h3>
    </hgroup>
  </slide>

  <slide>
    <hgroup>
      <h2>Google+ Sign-In button</h2>
      <h3>The HTML</h3>
    </hgroup>
    <article>
<pre class="prettyprint" data-lang="html">
&lt;span id="signinButton">
  &lt;span
    class="g-signin"
    data-callback="signinCallback"
    data-clientid="CLIENT_ID"
    data-cookiepolicy="single_host_origin"
    data-requestvisibleactions="http://schemas.google.com/AddActivity"
    data-scope="https://www.googleapis.com/auth/plus.login">
  &lt;/span>
&lt;/span>
</pre>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Google+ Sign-In button</h2>
      <h3>http://developers.google.com/+</h3>
    </hgroup>
    <article class="flexbox vcenter">
      <img src="images/devsite.png" height="400" alt="Devsite" title="Devsite">
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Google+ Sign-In button</h2>
      <h3>Configure Application in the API Console</h3>
    </hgroup>
    <article class="flexbox vcenter">
      <img src="images/console2.png" width="960" alt="The API console" title="The API console">
      <footer class="source">http://developers.google.com/console</footer>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Google+ Sign-In button</h2>
      <h3>The JS</h3>
    </hgroup>
    <article>
      <pre class="prettyprint" data-lang="javascript">
&lt;script type="text/javascript"&gt;
  (function() {
   var po = document.createElement('script'); 
   po.type = 'text/javascript'; po.async = true;
   po.src = 'https://apis.google.com/js/client:plusone.js';
   var s = document.getElementsByTagName('script')[0];
   s.parentNode.insertBefore(po, s);
  })();
&lt;/script&gt;
      </pre>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Google+ Sign-In button</h2>
      <h3>The Consent Dialogue</h3>
    </hgroup>
    <article class="flexbox vcenter">
      <img src="images/consent.png" height="496" alt="The Consent Dialogue" title="The Consent Dialogue">
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Google+ Sign-In button</h2>
      <h3>Handling the callback</h3>
    </hgroup>
    <article>
      <pre class="prettyprint" data-lang="javascript">
function signinCallback(authResult) {
  if (authResult['access_token']) {
    console.log("Signed in!");
  } else if (authResult['error']) {
    console.log(authResult['error']);
  }
}     </pre>
    </article>
  </slide>

  <slide class="segue dark nobackground">
    <aside class="gdbar"><img src="images/google_developers_icon_128.png"></aside>
    <hgroup class="auto-fadein">
      <h2>Over-The-Air Install</h2>
      <h3>Drive automatic Android downloads from your web sign-in flow</h3>
    </hgroup>
  </slide>

  <slide>
    <hgroup>
      <h2>Android downloads from your site</h2>
    </hgroup>
    <article class="flexbox vcenter">
      <img src="images/tunein-ota.png" alt="" height="496">
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Over-The-Air Installs</h2>
      <h3>Just add a package name</h3>
    </hgroup>
    <article>
<pre class="prettyprint" data-lang="html">
&lt;span id="signinButton">
  &lt;span
    class="g-signin"
    data-callback="signinCallback"
    data-clientid="CLIENT_ID"
    <b>data-apppackagename="com.google.android.apps.plus"</b>
    data-cookiepolicy="single_host_origin"
    data-requestvisibleactions="http://schemas.google.com/AddActivity"
    data-scope="https://www.googleapis.com/auth/plus.login">
  &lt;/span>
&lt;/span>
</pre>
    </article>
  </slide>

  <slide class="segue dark nobackground">
    <aside class="gdbar"><img src="images/google_developers_icon_128.png"></aside>
    <hgroup class="auto-fadein">
      <h2>App Customization</h2>
      <h3>Show relevant content and connections with circles & profiles</h3>
    </hgroup>
  </slide>

  <slide>
    <hgroup>
      <h2>Create accurate profiles</h2>
    </hgroup>
    <article class="flexbox vcenter">
      <img src="images/fitbit-profile.png" alt="" height="496">
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Spark content discovery</h2>
    </hgroup>
    <article class="flexbox vcenter">
      <img src="images/banjo-friendgraph.png" alt="" height="496">
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>App Customization</h2>
      <h3>My profile</h3>
    </hgroup>
    <article>
      <pre class="prettyprint" data-lang="javascript">
gapi.client.load('plus','v1', function(){
  var request = gapi.client.plus.people.get({
    <b>'userId': "me"</b>
  });
  request.execute(function(resp) {
    console.log('Retrieved profile:' + resp.displayName);
  });
});
      </pre>
    </article>
  </slide>
  
  <slide>
    <hgroup>
      <h2>App Customization</h2>
      <h3>People in my circles</h3>
    </hgroup>
    <article>
      <pre class="prettyprint" data-lang="javascript">
var friends = gapi.client.plus.people.list({
  'userId': "me",
  'collection': "visible"
});
friends.execute(function(resp) {
  console.log('Num people visible:' + resp.totalItems);
});        
      </pre>
    </article>
  </slide>

  <slide class="segue dark nobackground">
    <aside class="gdbar"><img src="images/google_developers_icon_128.png"></aside>
    <hgroup class="auto-fadein">
      <h2>Interactive Posts</h2>
      <h3>Capture users with a custom call-to-action in your posts</h3>
    </hgroup>
  </slide>

  <slide>
    <hgroup>
      <h2>Let users invite friends</h2>
    </hgroup>
    <article class="flexbox vcenter">
      <img src="images/beauty-ip.png" alt="">
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Target your call-to-action</h2>
    </hgroup>
    <article class="smaller">
      <div class="columns-2">
        <img src="images/flixster-ip.png" alt="" height="530">
        <ul class="green" style="">
          <li>&hellip;</li>
          <li>ANSWER_QUIZ</li>
          <li>APPLY</li>
          <li>ASK</li>
          <li>ATTACK</li>
          <li>BEAT</li>
          <li>BID</li>
          <li>BROWSE</li>
          <li>BUY</li>
          <li>CAPTURE</li>
          <li>CHALLENGE</li>
          <li>COLLECT</li>
          <li>COMMENT</li>
          <li>COMPARE</li>
          <li>CONFIRM</li>
          <li>&hellip;</li>
        </ul>
      </div>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Deep link to a custom experience</h2>
    </hgroup>
    <article class="flexbox vcenter">
      <img src="images/interactive-posts-anatomy.png" alt="" width="980">
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Interactive Posts</h2>
      <h3>Call To Action & Deep Link</h3>
    </hgroup>
    <article>
      <pre class="prettyprint" data-lang="html">
&lt;button class="g-interactivepost"
  data-callback="signinCallback"
  data-clientid="YOUR_CLIENT_ID"
  data-cookiepolicy="single_host_origin"
  data-requestvisibleactions=
    "http://schemas.google.com/DiscoverActivity"
  <b>data-calltoactionlabel="CREATE"
  data-calltoactionurl="http://plus.google.com/pages/create"
  data-calltoactiondeeplinkid="/pages/create"</b>&gt;
  Share!
&lt;/button&gt;</pre>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Interactive Posts</h2>
      <h3>Prefilling</h3>
    </hgroup>
    <article>
      <pre class="prettyprint" data-lang="html">
&lt;button class="g-interactivepost"
  data-callback="signinCallback"
  data-clientid="YOUR_CLIENT_ID"
  data-cookiepolicy="single_host_origin"
  data-requestvisibleactions=
    "http://schemas.google.com/DiscoverActivity"
  <b>data-prefilltext="Create a Google+ page for your business."
  data-recipients="110967630299632321627,leeroy.jenkins@example.com"</b>
  data-calltoactionlabel="CREATE"
  data-calltoactionurl="http://plus.google.com/pages/create"
  data-calltoactiondeeplinkid="/pages/create"&gt;
  Share!
&lt;/button&gt;</pre>
    </article>
  </slide>

  <slide class="segue dark nobackground">
    <aside class="gdbar"><img src="images/google_developers_icon_128.png"></aside>
    <hgroup class="auto-fadein">
      <h2>App Activities</h2>
      <h3>Re-engage users when it's relevant</h3>
    </hgroup>
  </slide>

  <slide>
    <hgroup>
      <h2>Be found on users' Google+ profile </h2>
    </hgroup>
    <article class="flexbox vcenter">
      <img src="images/tunein-activity.png" alt="" height="496">
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>App Activities</h2>
      <h3>A Review Activity</h3>
    </hgroup>
    <article>
      <pre class="prettyprint" data-lang="javascript">
var moment = {};
moment.type = 'http://schemas.google.com/ReviewActivity';
moment.target = { 'url': 'https://example.com/thing' };
moment.result = { 'url': 'https://example.com/thing/review' };
var request = gapi.client.request({
  'path': 'plus/v1/people/me/moments/vault',
  'method': 'POST',
  'body': JSON.stringify(moment)
});
request.execute(function(result) {
  console.log(result);
})    
      </pre>
    </article>
  </slide>

  <slide class="segue dark nobackground">
    <aside class="gdbar"><img src="images/google_developers_icon_128.png"></aside>
    <hgroup class="auto-fadein">
      <h2>Server-Side calls</h2>
      <h3>Make offline requests using your stack</h3>
    </hgroup>
  </slide>

  <slide>
    <hgroup>
      <h2>Server-Side calls</h2>
      <h3>Request Offline Access</h3>
    </hgroup>
    <article>
      <pre class="prettyprint" data-lang="html">
&lt;span
  class="g-signin"
  data-callback="signinCallback"
  data-clientid="YOUR_CLIENT_ID"
  data-cookiepolicy="single_host_origin"
  data-requestvisibleactions=
    "http://schemas.google.com/DiscoverActivity"
  data-scope="https://www.googleapis.com/auth/plus.login"
  <b>data-accesstype="offline"</b>&gt;
&lt;/span&gt;        
      </pre>
    </article>
  </slide>
    
  <slide>
    <hgroup>
      <h2>Server-Side calls</h2>
      <h3>Send code to server</h3>
    </hgroup>
    <article>
      <pre class="prettyprint" data-lang="javascript">
$.ajax({
  type: 'POST',
  url: window.location.href + '/connect?state=state&amp;gplus_id=' +
      profile.id,
  contentType: 'application/octet-stream; charset=utf-8',
  success: function(result) {
    console.log(result);
  },
  processData: false,
  data: <b>authResult.code</b>
});        
      </pre>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Server-Side calls</h2>
      <h3>Token Exchange</h3>
    </hgroup>
    <article>
      <pre class="prettyprint" data-lang="php">
$code = $request->getContent();
// Exchange the OAuth 2.0 authorization code for user credentials.
<b>$client->authenticate($code);</b>
      </pre>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Server-Side calls</h2>
      <h3>Get Token Info</h3>
    </hgroup>
    <article>
      <pre class="prettyprint" data-lang="php">
$token = json_decode($client->getAccessToken());
$reqUrl = 
  <b>'https://www.googleapis.com/oauth2/v1/tokeninfo?access_token='</b>
  . $token->access_token;
$req = new Google_HttpRequest($reqUrl);

$tokenInfo = json_decode(
    $client::getIo()->authenticatedRequest($req)
        ->getResponseBody());
      </pre>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Server-Side calls</h2>
      <h3>Validate Token</h3>
    </hgroup>
    <article>
      <pre class="prettyprint" data-lang="php">
// If there was an error in the token info, abort.
if ($tokenInfo->error) {
  return new Response($tokenInfo->error, 401);
}
// Make sure the token we got is for the intended user.
if ($tokenInfo->userid != $request->get['gplus_id']) {
  return new Response(
      'Token\'s user ID doesn\'t match given user ID', 401);
}
// Make sure the token we got is for our app.
if ($tokenInfo->audience != CLIENT_ID) {
  return new Response(
      'Token\'s client ID does not match app\'s.', 401);
}        
      </pre>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Server-Side calls</h2>
      <h3>App Activities, Server-Side</h3>
    </hgroup>
    <article>
      <pre class="prettyprint" data-lang="php">
$moment_body = new Google_Moment();
$moment_body->setType("http://schemas.google.com/ReviewActivity");
$item = new Google_ItemScope();
$item->setUrl("http://example.com/thing");
$moment_body->setTarget($item);
$review = new Google_ItemScope();
$review->setUrl("http://example.com/thing/review");
$moment_body->setResult($review);
$momentResult = <b>$plus->moments->insert(
  'me', 'vault', $moment_body);</b>        
      </pre>
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Server-Side Calls</h2>
      <h3>Users may disconnect</h3>
    </hgroup>
    <article class="flexbox vcenter">
      <img src="images/apps.png" width="960" alt="The apps page" title="The apps page">
    </article>
  </slide>

  <slide>
    <hgroup>
      <h2>Server-Side Calls</h2>
      <h3>Disconnect programmatically</h3>
    </hgroup>
    <article>
      <pre class="prettyprint" data-lang="javascript">
$.ajax({
  type: 'GET',
  url: '<b>https://accounts.google.com/o/oauth2/revoke?token=</b>' +
      gapi.auth.getToken().access_token,
  contentType: 'application/json',
  dataType: 'jsonp',
  success: function(result) {
    console.log('revoke response: ' + result);
  },
  error: function(e) {
    console.log(e);
  }
});
  </pre>
    </article>
  </slide>

  <slide class="segue dark nobackground">
    <aside class="gdbar"><img src="images/google_developers_icon_128.png"></aside>
    <hgroup class="auto-fadein">
      <h2>Platform Insights</h2>
      <h3>Meaningful analytics to optimize your integration</h3>
    </hgroup>
  </slide>

  <slide>
    <hgroup>
      <h2>Platform Insights</h2>
      <h3>Connect Google+ Page</h3>
    </hgroup>
    <article class="flexbox vcenter">
      <img src="images/approve.png" height="496" alt="Connected page" title="Connected page">
    </article>
  </slide>

  <slide class="thank-you-slide segue nobackground">
    <aside class="gdbar right"><img src="images/google_developers_icon_128.png"></aside>
    <article class="flexbox vleft auto-fadein">
      <h2>Questions</h2>
      <h3>Then a break!</h3>
    </article>
    <p class="auto-fadein" data-config-contact>
      <!-- populated from slide_config.json -->
    </p>
  </slide>

  <slide class="logoslide dark nobackground">
    <article class="flexbox vcenter">
      <span><img src="images/google_developers_logo_white.png"></span>
    </article>
  </slide>

  <slide class="backdrop"></slide>

</slides>

<script>
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-XXXXXXXX-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

<!--[if IE]>
  <script src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js"></script>
  <script>CFInstall.check({mode: 'overlay'});</script>
<![endif]-->
</body>
</html>
